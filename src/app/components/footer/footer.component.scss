$size: 40px;
$footer-vertical-gap: 2px;

:host {
  width: 100%;
  height: 100%;
  color: white;

  .mat-toolbar-wrapper {
    position: relative;
    display: flex;
    width: 100%;
    height: 100%;
    font-size: 12px;
    padding: 0px 0px;
    margin: 0px 0px;

    .cookie-message-wrapper {
      display: flex;
      width: 100%;
      height: 100%;
      justify-content: space-evenly;
      align-items: center;
      flex-direction: row;
      background-color: rgba(0, 0, 0, 0.9);
      opacity: 0;

      animation: fadein 1s ease-in-out forwards;
      animation-delay: 2s;

      div {
        padding: 5px;
        display: flex;
        // width: 100%;
        // height: 100%;
        justify-content: center;
        align-items: center;
      }

      .screen-filter {
        z-index: -1;
        position: fixed;
        top: 0px;
        bottom: 0px;
        left: 0px;
        right: 0px;
        background-color: rgba(0, 0, 0, 0.6);
        pointer-events: none;
        // opacity: 0;
        // transition: opacity 1s ease-in;
      }

      @keyframes fadein {
        0% {
          opacity: 0;
        }
        100% {
          opacity: 1;
        }
      }
    }

    .cookie-snackbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #323232;
      color: #fff;
      padding: 20px 28px;
      border-radius: 4px;
      min-width: 320px;
      max-width: 600px;
      margin: 0 auto;
      position: fixed;
      left: 50%;
      bottom: 32px;
      transform: translateX(-50%);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      z-index: 2000;
      a {
        color: #fff;
        text-decoration: underline;
      }
      .accept-btn {
        white-space: nowrap;
        font-weight: bold;
        margin-left: 24px;
      }
    }

    mat-toolbar {
      position: relative;
      display: flex;
      width: 100%;
      height: 100%;
      font-size: 12px;
      padding: 0px 0px;
      margin: 0px 0px;

      .toolbar-cell {
        height: 100%;
        // border: red 1px solid;
        // background-color: pink;

        display: flex;
        flex: 1;
        align-items: center;
        justify-content: center;

        a {
          flex: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          // background-color: orange;
          color: white;
          height: 100%; // Ensure anchor fills the cell height

          .icon-wrapper {
            // background-color: pink;
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;

            mat-icon {
              margin: 3px 3px;
              font-size: $size;
              height: $size;
              width: $size;
              line-height: $size;
            }

            .icon-descriptor {
              display: inline-block;
              font-size: calc($size/2);
            }

            img {
              margin: 0px 3px;
              display: inline-block;
              height: 1.5 * $size;
            }
          }
        }

        &.github-cell {
          a {
            display: flex;
            // flex-direction: column;
            // flex-grow: 0.5;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            color: white;
            // background-color: red;

            // Ensure GitHub icon appears white
            img {
              filter: invert(100%);
              margin-right: 5px;
            }

            .icon-descriptor {
              margin-top: 4px;
              font-size: 12px;
            }
          }
          // Hide the text descriptor on small screens
          @media (max-width: 650px) {
            .icon-descriptor {
              display: none;
            }
          }
        }

        &.center-cell {
          // Styles for the cell itself (inherited from .toolbar-cell)
          // Ensure the anchor tag fills the cell if needed, but flex: 1 is already on toolbar-cell > a

          a {
            // Apply flex direction to the anchor tag now
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: $footer-vertical-gap; // Apply gap between text children
            text-decoration: none; // Remove underline from text link
            color: inherit; // Ensure text color remains white
            justify-content: center;

            // These rules now apply to children of the 'a' tag
            .footer-text-primary {
              font-weight: bold;
              font-size: 14px;
              margin: 0;
              line-height: 1;
            }
            .footer-text-secondary {
              font-size: 12px;
              margin: 0;
              line-height: 1;
            }
          }
        }

        .sbn-logo {
          // Set height relative to the container (anchor tag)
          height: 85%; // Adjust percentage as needed for desired size
          width: auto; // Maintain aspect ratio
          // width: 60px; // Removed fixed width if aspect ratio is desired
          // height: 60px; // Removed fixed height
          // padding: 13px 0; // Removed: Caused anchor to exceed parent height
        }

        .text-wrapper {
          $nRows: 6;
          $nCols: 10;

          height: 100%;
          width: 100%;
          // background-color: green;
          display: grid;
          grid-template-rows: repeat($nRows, minmax(0, 1fr));
          grid-template-columns: repeat($nCols, minmax(0, 1fr));

          div {
            display: flex;
            justify-content: center;
            align-items: center;

            // Default: vary row, const col
            &.first {
              grid-row: #{$nRows / 2} / #{$nRows / 2 + 1};
              grid-column: 1 / #{$nCols + 1};
              // background-color: brown;
              padding: 0px 5px;
            }
            &.second {
              grid-row: #{calc($nRows / 2) + 1} / #{$nRows / 2 + 2};
              grid-column: 1 / #{$nCols + 1};
              // background-color: cyan;
              padding: 0px 5px;
            }

            // if > 650px: const row, vary col
            @media (min-width: 650px) {
              &.first {
                grid-row: #{$nRows / 2} / #{$nRows / 2 + 2};
                grid-column: 1 / #{$nCols / 2 + 1};
                justify-content: flex-end;
              }
              &.second {
                grid-row: #{$nRows / 2} / #{$nRows / 2 + 2};
                grid-column: #{$nCols / 2 + 1} / #{$nCols + 1};
                justify-content: flex-start;
              }
            }
          }
        }
      }
    }
  }

  // Media query for small screens
  @media (max-width: 650px) {
    // Use !important to force override highly specific base styles
    mat-toolbar {
      .toolbar-cell {
        &.github-cell {
          a {
            justify-content: flex-start !important; // Align content to the left
            padding-left: 15px; // Add some padding from the edge
          }
        }

        &.logo-cell {
          a {
            justify-content: flex-end !important; // Align content to the right
            padding-right: 15px; // Add some padding from the edge
          }
        }
      }
    }
  }
}
