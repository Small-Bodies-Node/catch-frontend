<div #myContainer class="panstarrs-overlay-container">
  @if (!isPanstarrsDataFound) {
  <div class="no-data-found">No panstarrs data!</div>
  }

  <div class="image-wrapper">
    <!-- Crosshair: Top Vertical Segment -->
    <div
      [style.position]="'absolute'"
      [style.top.px]="0"
      [style.left]="'50%'"
      [style.transform]="'translateX(-50%)'"
      [style.width.px]="2"
      [style.height]="'calc(50% - ' + 50 * crosshairCenterCutoutFraction + '%)'"
      [style.background-color]="'#90EE90'"
      [style.z-index]="1"
    ></div>

    <!-- Crosshair: Bottom Vertical Segment -->
    <div
      [style.position]="'absolute'"
      [style.bottom.px]="0"
      [style.left]="'50%'"
      [style.transform]="'translateX(-50%)'"
      [style.width.px]="2"
      [style.height]="'calc(50% - ' + 50 * crosshairCenterCutoutFraction + '%)'"
      [style.background-color]="'#90EE90'"
      [style.z-index]="1"
    ></div>

    <!-- Crosshair: Left Horizontal Segment -->
    <div
      [style.position]="'absolute'"
      [style.top]="'50%'"
      [style.left.px]="0"
      [style.transform]="'translateY(-50%)'"
      [style.width]="'calc(50% - ' + 50 * crosshairCenterCutoutFraction + '%)'"
      [style.height.px]="2"
      [style.background-color]="'#90EE90'"
      [style.z-index]="1"
    ></div>

    <!-- Crosshair: Right Horizontal Segment -->
    <div
      [style.position]="'absolute'"
      [style.top]="'50%'"
      [style.right.px]="0"
      [style.transform]="'translateY(-50%)'"
      [style.width]="'calc(50% - ' + 50 * crosshairCenterCutoutFraction + '%)'"
      [style.height.px]="2"
      [style.background-color]="'#90EE90'"
      [style.z-index]="1"
    ></div>
    @if(imageSrc){
    <img
      #overlayImage
      [style.image-rendering]="'pixelated'"
      [src]="imageSrc"
      (load)="onImageLoad()"
      alt="Astronomical Image"
      [style.position]="'absolute'"
      [style.width.px]="renderedImageWidth"
      [style.height.px]="renderedImageHeight"
      [style.left.px]="imageOffsetX"
      [style.top.px]="imageOffsetY"
      [style.transform]="surveyScaleTransform()"
    />
    }
  </div>

  <!--  -->
  @if(isAtlasOrNeat){

  <!-- WCS Derived Star Positions -->
  @for (coord of pixelCoordinatesWCS; track coord.id) {
  <div
    class="ra-dec-div-wcs"
    [style.left.px]="coord.x * imageScaleX + imageOffsetX - starDivDiameter / 2"
    [style.top.px]="coord.y * imageScaleY + imageOffsetY - starDivDiameter / 2"
    [style.width.px]="starDivDiameter"
    [style.height.px]="starDivDiameter"
    [title]="
      'WCS - RA: ' +
      coord.ra.toFixed(5) +
      ', Dec: ' +
      coord.dec.toFixed(5) +
      ' | Pixel: (' +
      coord.x.toFixed(1) +
      ', ' +
      coord.y.toFixed(1) +
      ')'
    "
  ></div>
  } } @else{

  <!-- CRUDE APPROACH -->
  @for (raDec of raDecs; track raDec ) {
  <div
    class="ra-dec-div"
    [style.left.px]="getDivLeft(raDec.ra)"
    [style.top.px]="getDivTop(raDec.dec)"
    [style.width.px]="starDivDiameter"
    [style.height.px]="starDivDiameter"
    [style.opacity]="getOpacity(raDec.raErr)"
  >
    <div class="object-info">
      Panstarrs RA: {{ raDec.ra }}, DEC: {{ raDec.dec }}
    </div>
  </div>
  }
  <!--  -->
  }
</div>
