<div
  class="fits-jpg-toggler-container mat-elevation-z8"
  #FitsJpgTogglerContainer
>
  @if (apiData) {
  <div
    class="main-image"
    [ngStyle]="{ border: (isFitsLoaded ? '3' : '0') + 'px solid red' }"
    #mainImage
  >
    @if (isFits) {
    <lib-ngx-js9
      [width]="width"
      [height]="height"
      [siteTheme]="'DARK-THEME'"
      [fitsUrl]="fitsUrl"
      [globalOpts]="{
        menuBar: ['view', 'zoom', 'scale', 'color', 'region'],
        alerts: !true
      }"
      (fitsLoadStatus)="onFitsLoadStatusUpdate($event)"
    ></lib-ngx-js9>
    } @else {
    <div
      class="thumbnail-wrapper"
      [ngStyle]="{ width: width + 'px', height: height + 'px' }"
    >
      <app-panstarrs-overlay></app-panstarrs-overlay>
      <app-table-thumbnail
        [element]="chooseApiDatum()"
        [label]="getLabel()"
        [size]="'100%'"
        [width]="width + 'px'"
        [height]="height + 'px'"
        [diameterPxls]="150"
        [isPriority]="true"
      ></app-table-thumbnail>
    </div>

    }

    <button
      mat-fab
      [disabled]="isFitsButtonDisabled()"
      (click)="toggleFits()"
      [ngClass]="{ 'raise-button': isButtonRaised }"
    >
      @if (isFits) {
      <mat-icon>{{ "image" }}</mat-icon>
      } @else {
      <span style="font-weight: bold">{{ "FITS" }}</span>
      }
    </button>
  </div>
  }
</div>
